
# תוכנית: שכבת-על לפרטי סים (מספרים + ברקוד גדול)

## מה משתנה

כרגע הקוד **מכניס לוגו חדש + מספרים בתחילת המסמך**, מה שמזיז את כל התוכן המקורי.

**המטרה**: לשמור על המסמך המקורי בדיוק כמו שהוא (כולל הלוגו הקיים והטקסט) ורק להוסיף:
- **מספרים למעלה** - בלי להזיז את הלוגו הקיים
- **ברקוד גדול יותר למטה**

---

## שינויים

### קובץ: `supabase/functions/generate-calling-instructions/index.ts`

#### 1. הסרת הוספת הלוגו מהקוד
כרגע הקוד מוסיף לוגו חדש לגוף המסמך → נבטל את זה כי הלוגו כבר קיים בתבנית המקורית.

#### 2. הוספת המספרים בלבד אחרי הלוגו הקיים
במקום להכניס לוגו חדש, נכניס רק את פסקאות המספרים **מיד אחרי הפסקה הראשונה** (שהיא הלוגו בתבנית המקורית).

#### 3. הגדלת הברקוד
| מצב נוכחי | מצב חדש |
|-----------|---------|
| ~30mm רוחב | ~60mm רוחב |
| ~10mm גובה | ~20mm גובה |

שינוי בפונקציה `createBarcodeXml`:
```
width:  1143000 → 2286000  (כפול)
height: 381000  → 762000   (כפול)
```

---

## לוגיקה חדשה

```
1. קרא את התבנית המקורית (כולל הלוגו שכבר שם)
2. מצא את סוף הפסקה הראשונה (הלוגו)
3. הכנס את פסקאות המספרים מיד אחרי הלוגו
4. בסוף המסמך, הכנס ברקוד גדול (60x20mm)
5. שמור - המסמך נשאר זהה לחלוטין, רק עם המספרים והברקוד
```

---

## תוצאה צפויה

```
┌─────────────────────────────────┐
│   [לוגו מקורי מהתבנית - ללא שינוי]   │
│                                 │
│   מספר ישראלי: 0722-587-081     │  ← חדש
│   מספר מקומי: 44-7429629581     │  ← חדש
│                                 │
│   [כל תוכן ההוראות המקורי        │
│    בדיוק כמו בתבנית - ללא שינוי] │
│                                 │
│   ▌▌▌▌▌▌▌▌▌ INV-12345678 ▌▌▌▌▌▌▌▌▌   │  ← חדש (גדול יותר)
└─────────────────────────────────┘
```

---

## סיכום טכני

| שינוי | פעולה |
|-------|-------|
| הסרת הוספת לוגו | מחיקת הקוד שמוסיף `logo.png` לגוף המסמך |
| מיקום מספרים | הכנסה אחרי ה-`</w:p>` הראשון (סוף פסקת הלוגו) |
| גודל ברקוד | הכפלת המידות ב-`createBarcodeXml` |
